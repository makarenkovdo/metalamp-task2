/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/components/dropdown/dropdown.js":
/*!*********************************************!*\
  !*** ./src/components/dropdown/dropdown.js ***!
  \*********************************************/
/***/ (() => {

eval("function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Dropdown = /*#__PURE__*/function () {\n  function Dropdown(number) {\n    _classCallCheck(this, Dropdown);\n\n    this.isDropdownOpen = false;\n    this.$dropdownType = document.querySelector(\".js-dropdown_instance-\".concat(number, \"_type\")).innerHTML;\n    this.$dropdownInstanceNumber = document.querySelector(\".js-dropdown_instance-number\");\n    this.instance = number;\n    this.$dropdownContainerImg = document.querySelector(\".js-dropdown_instance-\".concat(this.instance, \"__img-box\"));\n    this.$dropdownContainer = document.querySelector(\".js-dropdown_instance-\".concat(this.instance, \"-guests\"));\n    this.$dropdownPopupContainer = document.querySelector(\".js-dropdown_instance-\".concat(this.instance, \"__popup\"));\n    this.$dropdownText = document.querySelector(\".js-dropdown_instance-\".concat(this.instance, \"__text\"));\n    this.$counterSelector1 = document.querySelector(\".js-dropdown_instance-\".concat(this.instance, \"__counter1\"));\n    this.$counterSelector2 = document.querySelector(\".js-dropdown_instance-\".concat(this.instance, \"__counter2\"));\n    this.$counterSelector3 = document.querySelector(\".js-dropdown_instance-\".concat(this.instance, \"__counter3\"));\n    this.$decreaseSelector1 = document.querySelector(\".js-dropdown_instance-\".concat(this.instance, \"__decrease1\"));\n    this.$increaseSelector1 = document.querySelector(\".js-dropdown_instance-\".concat(this.instance, \"__increase1\"));\n    this.$decreaseSelector2 = document.querySelector(\".js-dropdown_instance-\".concat(this.instance, \"__decrease2\"));\n    this.$increaseSelector2 = document.querySelector(\".js-dropdown_instance-\".concat(this.instance, \"__increase2\"));\n    this.$decreaseSelector3 = document.querySelector(\".js-dropdown_instance-\".concat(this.instance, \"__decrease3\"));\n    this.$increaseSelector3 = document.querySelector(\".js-dropdown_instance-\".concat(this.instance, \"__increase3\"));\n    this.dropdownCounter = this.makeDropdownCounter();\n  }\n\n  _createClass(Dropdown, [{\n    key: \"handleDropdownClick\",\n    value: function handleDropdownClick() {\n      this.isDropdownOpen ? closeDropdownBox.call(this) : openDropdownBox.call(this);\n\n      function closeDropdownBox() {\n        this.$dropdownPopupContainer.classList.add('hide');\n        this.isDropdownOpen = false;\n      }\n\n      function openDropdownBox() {\n        var x = this.$dropdownContainer.getBoundingClientRect().x;\n        var y = this.$dropdownContainer.getBoundingClientRect().y + this.$dropdownContainer.getBoundingClientRect().height;\n        this.$dropdownPopupContainer.classList.remove('hide');\n        this.$dropdownPopupContainer.style.cssText = \"left:\".concat(x, \"px; top: \").concat(y, \"px; \");\n        this.isDropdownOpen = true;\n      }\n    }\n  }, {\n    key: \"makeDropdownCounter\",\n    value: function makeDropdownCounter() {\n      console.log('some log!');\n      console.log(this);\n      var commonCounter = 0;\n      var counter1 = 0;\n      var counter2 = 0;\n      var counter3 = 0;\n      var guestWordEnding = 'ь';\n      var bedroomWordEnding = 'ен';\n      var bedWordEnding = 'ей';\n\n      function setWordEnding(commonCounter, guestWordEnding, bedroomWordEnding, bedWordEnding) {\n        if (commonCounter > 1 && commonCounter < 5) {\n          return guestWordEnding = 'я';\n        }\n\n        if (commonCounter > 5 || commonCounter < 1) {\n          return guestWordEnding = 'ей';\n        }\n\n        if (commonCounter === 1) {\n          return guestWordEnding = 'ь';\n        }\n\n        return [guestWordEnding, bedroomWordEnding, bedWordEnding];\n      }\n\n      return function (shift, counterSelector) {\n        console.log('inside');\n        console.log(this);\n        console.log(this.instance);\n        console.log(this.$dropdownType);\n        console.log(counterSelector);\n\n        switch (counterSelector.attributes[\"class\"].value) {\n          case \"dropdown__counter js-dropdown_instance-\".concat(this.instance, \"__counter1\"):\n            if (counter1 === 0 && shift < 0) {\n              return counter1;\n            } else {\n              counter1 += shift;\n              commonCounter += shift;\n              var _ref = [setWordEnding(commonCounter, guestWordEnding, bedroomWordEnding, bedWordEnding)];\n              guestWordEnding = _ref[0];\n              bedroomWordEnding = _ref[1];\n              bedWordEnding = _ref[2];\n              console.log((guestWordEnding, bedroomWordEnding, bedWordEnding));\n              counterSelector.innerHTML = counter1;\n              this.$dropdownText.innerHTML = \"\".concat(commonCounter, \" \\u0433\\u043E\\u0441\\u0442\").concat(guestWordEnding);\n            }\n\n            break;\n\n          case \"dropdown__counter js-dropdown_instance-\".concat(this.instance, \"__counter2\"):\n            if (counter2 === 0 && shift < 0) {\n              return counter2;\n            } else {\n              counter2 += shift;\n              commonCounter += shift;\n              guestWordEnding = setWordEnding(commonCounter, guestWordEnding);\n              counterSelector.innerHTML = counter2;\n              this.$dropdownText.innerHTML = \"\".concat(commonCounter, \" \\u0433\\u043E\\u0441\\u0442\").concat(guestWordEnding);\n            }\n\n            break;\n\n          case \"dropdown__counter js-dropdown_instance-\".concat(this.instance, \"__counter3\"):\n            if (counter3 === 0 && shift < 0) {\n              return counter3;\n            } else {\n              counter3 += shift;\n              commonCounter += shift;\n              guestWordEnding = setWordEnding(commonCounter, guestWordEnding);\n              counterSelector.innerHTML = counter3;\n              this.$dropdownText.innerHTML = \"\".concat(commonCounter, \" \\u0433\\u043E\\u0441\\u0442\").concat(guestWordEnding);\n            }\n\n            break;\n\n          default:\n            return false;\n        }\n      };\n    }\n  }]);\n\n  return Dropdown;\n}(); // const dropdownArray[i] = new Dropdown(1)\n// const dropdown2 = new Dropdown(2)\n\n\nfunction createDropdowns(n) {\n  var dropdownArray = new Array(n);\n\n  for (var i = 0; i < n; i++) {\n    dropdownArray[i] = new Dropdown(i + 1);\n  }\n\n  return dropdownArray;\n}\n\nvar dropdownArray = createDropdowns(5);\nconsole.log(dropdownArray);\n\nvar _loop = function _loop(i) {\n  dropdownArray[i].$dropdownContainerImg.addEventListener('click', dropdownArray[i].handleDropdownClick.bind(dropdownArray[i]));\n  dropdownArray[i].$increaseSelector1.addEventListener('click', function () {\n    return dropdownArray[i].dropdownCounter.call(dropdownArray[i], 1, dropdownArray[i].$counterSelector1);\n  });\n  dropdownArray[i].$decreaseSelector1.addEventListener('click', function () {\n    return dropdownArray[i].dropdownCounter.call(dropdownArray[i], -1, dropdownArray[i].$counterSelector1);\n  });\n  dropdownArray[i].$increaseSelector2.addEventListener('click', function () {\n    return dropdownArray[i].dropdownCounter.call(dropdownArray[i], 1, dropdownArray[i].$counterSelector2);\n  });\n  dropdownArray[i].$decreaseSelector2.addEventListener('click', function () {\n    return dropdownArray[i].dropdownCounter.call(dropdownArray[i], -1, dropdownArray[i].$counterSelector2);\n  });\n  dropdownArray[i].$increaseSelector3.addEventListener('click', function () {\n    return dropdownArray[i].dropdownCounter.call(dropdownArray[i], 1, dropdownArray[i].$counterSelector3);\n  });\n  dropdownArray[i].$decreaseSelector3.addEventListener('click', function () {\n    return dropdownArray[i].dropdownCounter.call(dropdownArray[i], -1, dropdownArray[i].$counterSelector3);\n  });\n};\n\nfor (var i = 0; i < dropdownArray.length; i++) {\n  _loop(i);\n} // dropdownArray[i].$dropdownContainer.addEventListener('click', () =>\n//     console.log('CLASSES WORKS')\n// )\n\n//# sourceURL=webpack://task2/./src/components/dropdown/dropdown.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/components/dropdown/dropdown.js"]();
/******/ 	
/******/ })()
;